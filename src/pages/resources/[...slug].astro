---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const resources = await getCollection('resources');
  return resources.map((resource) => ({
    params: { slug: resource.slug },
    props: { resource },
  }));
}

const { resource } = Astro.props;
const { Content } = await resource.render();
---

<BaseLayout title={resource.data.title} description={resource.data.description}>
  <article class="py-20 bg-gradient-to-b from-white to-fog">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8">
        <span class="text-sm text-gray-500 font-medium">{resource.data.category}</span>
        <h1 class="text-5xl font-serif font-bold text-slate-deep mt-2 mb-4">{resource.data.title}</h1>
        <p class="text-xl text-gray-600">{resource.data.description}</p>
      </div>
    </div>
  </article>

  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 prose prose-lg max-w-none">
      <Content />
    </div>
  </section>
</BaseLayout>

